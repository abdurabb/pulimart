<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from cartzilla.createx.studio/shop-cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Dec 2022 04:00:53 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
    <meta charset="utf-8">
    <title>Pulimart</title>
    <!-- SEO Meta Tags-->
    <meta name="description" content="Cartzilla - Bootstrap E-commerce Template">
    <meta name="keywords"
        content="bootstrap, shop, e-commerce, market, modern, responsive,  business, mobile, bootstrap, html5, css3, js, gallery, slider, touch, creative, clean">
    <meta name="author" content="Createx Studio">
    <!-- Viewport-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicon and Touch Icons-->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="mask-icon" color="#fe6a6a" href="safari-pinned-tab.svg">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <!-- Vendor Styles including: Font Icons, Plugins, etc.-->
    <link rel="stylesheet" media="screen" href="vendor/simplebar/dist/simplebar.min.css" />
    <link rel="stylesheet" media="screen" href="vendor/tiny-slider/dist/tiny-slider.css" />
    <!-- Main Theme Styles + Bootstrap-->
    <link rel="stylesheet" media="screen" href="/productCss/theme.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Google Tag Manager-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">






</head>
<!-- Body-->

<body class="handheld-toolbar-enabled">
    <!-- Google Tag Manager (noscript)-->

    <!-- Sign in / sign up modal-->
    <main class="page-wrapper">
        <!-- Navbar 3 Level (Light)-->

        <!-- Page Title-->
        <div class="page-title-overlap pt-3" style="background-color: #20547d;">
            <div class="container d-lg-flex justify-content-between ">
                <ol>
                    <div class="order-lg-2 mb-2 mb-lg-0 ">
                        <img src="landsheetImages/logo.png" width="100px" height="50px" alt="">
                        <h3 class=" " style="color: crimson;">Pulimart</h3>
                    </div>
                </ol>
                <div class="order-lg-1 pe-lg-4 text-center text-lg-start">
                    <h1 class="h3 text-light mb-0">Products</h1>
                </div>
            </div>
        </div>


        <div class="container pb-5 mb-2 mb-md-4">
            <div class="row">
                <!-- List of items-->

                <section class="col-12">
                    <div class="d-flex justify-content-between align-items-center pt-3 pb-4 pb-sm-5 mt-1">
                        <span>
                            <h2 class="h6 text-light mb-0">Orders</h2>
                        </span> <a href="/seeOrder"> <button class="btn btn-outline-success">Back To Order
                                Details</button></a>
                    </div>

                    <style>
                        .card-stepper {
                            z-index: 0
                        }

                        #progressbar-2 {
                            color: #455A64;
                        }

                        #progressbar-2 li {
                            list-style-type: none;
                            font-size: 13px;
                            width: 33.33%;
                            float: left;
                            position: relative;
                        }

                        #progressbar-2 #step1:before {
                            content: '\f058';
                            font-family: "Font Awesome 5 Free";
                            color: #fff;
                            width: 37px;
                            margin-left: 0px;
                            padding-left: 0px;
                        }

                        #progressbar-2 #step2:before {
                            content: '\f058';
                            font-family: "Font Awesome 5 Free";
                            color: #fff;
                            width: 37px;
                        }

                        #progressbar-2 #step3:before {
                            content: '\f058';
                            font-family: "Font Awesome 5 Free";
                            color: #fff;
                            width: 37px;
                            margin-right: 0;
                            text-align: center;
                        }

                        #progressbar-2 #step4:before {
                            content: '\f111';
                            font-family: "Font Awesome 5 Free";
                            color: #fff;
                            width: 37px;
                            margin-right: 0;
                            text-align: center;
                        }

                        #progressbar-2 li:before {
                            line-height: 37px;
                            display: block;
                            font-size: 12px;
                            background: #c5cae9;
                            border-radius: 50%;
                        }

                        #progressbar-2 li:after {
                            content: '';
                            width: 100%;
                            height: 10px;
                            background: #c5cae9;
                            position: absolute;
                            left: 0%;
                            right: 0%;
                            top: 15px;
                            z-index: -1;
                        }

                        #progressbar-2 li:nth-child(1):after {
                            left: 1%;
                            width: 100%
                        }

                        #progressbar-2 li:nth-child(2):after {
                            left: 1%;
                            width: 100%;
                        }

                        #progressbar-2 li:nth-child(3):after {
                            left: 1%;
                            width: 100%;
                        }

                        #progressbar-2 li:nth-child(4) {
                            left: 0;
                            width: 37px;
                        }

                        #progressbar-2 li:nth-child(4):after {
                            left: 0;
                            width: 37px;
                        }

                        #progressbar-2 li.active:before,
                        #progressbar-2 li.dactive:after {
                            background: #6520ff;
                        }
                    </style>
                    <section class="vh-100" style="background-color: #8c9eff;">
                        <div class="container py-5 h-100">
                            <div class="row d-flex justify-content-center align-items-center h-100">
                                <div class="col-12">
                                    <div class="card card-stepper text-black" style="border-radius: 16px;">
                                        <!-- ---------------- -->
                                        <div>
                                            <div class="table-responsive mt-3"  data-simplebar>
                                            <table class="table  col-12">
                                                <thead class=" text-center  " style="background-color: #a0b1be;">
                                                    <tr>
                                                        <th scope="col" class="pl-5 ">Product Name</th>
                                                        <th scope="col" class="pl-5 ">Product</th>
                                                        <th scope="col" class="pl-4">Quantity</th>
                                                        <th scope="col" class="pl-5">Price</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-center ">
                                                    <% for(let i of product) {%>
                                                        <tr class="">
                                                            <td class="pl-5 pt-5 mt-5">
                                                                <h4>
                                                                    <%=i.productId.name%>
                                                                </h4>
                                                            </td>
                                                            <td class="pl-5"><img width="80px" height="80px"
                                                                    src="/productimages/<%=i.productId.image[0]%>"
                                                                    alt=""></td>
                                                            <td class="pl-5 pt-5 mt-5">
                                                                <h4>
                                                                    <%=i.quantity%>
                                                                </h4>
                                                            </td>

                                                            <td class="pl-5 pt-5 mt-5">
                                                                <h4>
                                                                    <%=i.productId.price%>
                                                                </h4>
                                                            </td>
                                                        </tr>
                                                        <%}%>
                                                </tbody>
                                            </table>
                                        </div>
                                        </div>
                                        <!-- ------------------------- -->
                                        <div class="card-body p-5">
                                            <% if (order.status=="Canceled" ){ %>
                                                <h2 class="text-danger">Order Canceled </h2>

                                                <ul id="progressbar-2"
                                                    class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                    <li class="step0  text-center" id="step1"></li>
                                                    <li class="step0  text-center" id="step2"></li>
                                                    <li class="step0  text-center" id="step3"></li>
                                                    <li class="step0   text-muted text-center" id="step4"></li>
                                                </ul>
                                                <%} else if(order.status=="returneProcessing" ) {%>

                                                    <h2 class="text-danger"> Return Processing </h2>
                                                    <h6>Please Wait for Approvel</h6>
                                                    <ul id="progressbar-2"
                                                        class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                        <li class="step0 active dactive text-center" id="step1"></li>
                                                        <li class="step0  active dactive text-center" id="step2"></li>
                                                        <li class="step0 active dactive text-center" id="step3"></li>
                                                        <li class="step0  active text-muted text-center" id="step4">
                                                        </li>
                                                    </ul>

                                                    <% }else if (order.status=="returnApproved" ) {%>
                                                        <h2 class="text-success"> Order Returned </h2>
                                                        <h6>Please Puchase Again</h6>

                                                        <ul id="progressbar-2"
                                                            class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                            <li class="step0 active dactive text-center" id="step1">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="25"
                                                                    height="25" fill="red" class="bi bi-x"
                                                                    viewBox="0 0 16 16">
                                                                    <path
                                                                        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                                                </svg>
                                                            </li>


                                                            <li class="step0  active dactive text-center" id="step2">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="25"
                                                                    height="25" fill="red" class="bi bi-x"
                                                                    viewBox="0 0 16 16">
                                                                    <path
                                                                        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                                                </svg>

                                                            </li>
                                                            <li class="step0 active dactive text-center" id="step3">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="25"
                                                                    height="25" fill="red" class="bi bi-x"
                                                                    viewBox="0 0 16 16">
                                                                    <path
                                                                        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                                                                </svg>

                                                            </li>
                                                            <li class="step0  active text-muted text-center" id="step4">
                                                            </li>
                                                        </ul>
                                                        <% }else if (order.status=="returnRejucted" ) {%>
                                                            <h2 class="text-danger"> Return Rejucted </h2>
                                                            <h6></h6>
                                                            <ul id="progressbar-2"
                                                                class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                                <li class="step0 active dactive text-center" id="step1">
                                                                </li>
                                                                <li class="step0  active dactive text-center"
                                                                    id="step2"></li>
                                                                <li class="step0 active dactive text-center" id="step3">
                                                                </li>
                                                                <li class="step0  active text-muted text-center"
                                                                    id="step4"></li>
                                                            </ul>
                                                            <% }else if(order.status=="orderd" ) { %>
                                                                <ul id="progressbar-2"
                                                                    class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                                    <li class="step0 active dactive text-center"
                                                                        id="step1"></li>
                                                                    <li class="step0  text-center" id="step2"></li>
                                                                    <li class="step0  text-center" id="step3"></li>
                                                                    <li class="step0   text-muted text-center"
                                                                        id="step4"></li>
                                                                </ul>

                                                                <%} else if (order.status=="shipped" ) { %>
                                                                    <ul id="progressbar-2"
                                                                        class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                                        <li class="step0 active dactive text-center"
                                                                            id="step1"></li>
                                                                        <li class="step0  active dactive text-center"
                                                                            id="step2"></li>
                                                                        <li class="step0  text-center" id="step3"></li>
                                                                        <li class="step0   text-muted text-center"
                                                                            id="step4"></li>
                                                                    </ul>
                                                                    <%} else if (order.status=="outOfDelivery" ) {%>
                                                                        <ul id="progressbar-2"
                                                                            class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                                            <li class="step0 active dactive text-center"
                                                                                id="step1"></li>
                                                                            <li class="step0  active dactive text-center"
                                                                                id="step2"></li>
                                                                            <li class="step0 active dactive text-center"
                                                                                id="step3"></li>
                                                                            <li class="step0   text-muted text-center"
                                                                                id="step4"></li>
                                                                        </ul>
                                                                        <%} else if (order.status=="deliverd" ) {%>
                                                                            <ul id="progressbar-2"
                                                                                class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                                                                                <li class="step0 active dactive text-center"
                                                                                    id="step1"></li>
                                                                                <li class="step0  active dactive text-center"
                                                                                    id="step2"></li>
                                                                                <li class="step0 active dactive text-center"
                                                                                    id="step3"></li>
                                                                                <li class="step0  active text-muted text-center"
                                                                                    id="step4"></li>
                                                                            </ul>
                                                                            <%}%>


                                                                                <div
                                                                                    class="d-flex justify-content-between">
                                                                                    <div
                                                                                        class="d-lg-flex align-items-center">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                                            width="25" height="25"
                                                                                            fill="currentColor"
                                                                                            class="bi bi-clipboard-check"
                                                                                            viewBox="0 0 16 16">
                                                                                            <path fill-rule="evenodd"
                                                                                                d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z" />
                                                                                            <path
                                                                                                d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z" />
                                                                                            <path
                                                                                                d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z" />
                                                                                        </svg>

                                                                                        <div class="pl-3">
                                                                                            <p class="fw-bold mb-1">
                                                                                                Order</p>
                                                                                            <p class="fw-bold mb-0">
                                                                                                Processed</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div
                                                                                        class="d-lg-flex align-items-center">
                                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                                            width="25" height="25"
                                                                                            fill="currentColor"
                                                                                            class="bi bi-box"
                                                                                            viewBox="0 0 16 16">
                                                                                            <path
                                                                                                d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z" />
                                                                                        </svg>
                                                                                        <div class="pl-3">
                                                                                            <p class="fw-bold mb-1">
                                                                                                Order</p>
                                                                                            <p class="fw-bold mb-0">
                                                                                                Shipped</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div
                                                                                        class="d-lg-flex align-items-center">
                                                                                        <!-- <i class="fas fa-shipping-fast fa-3x me-lg-4 mb-3 mb-lg-0"></i> -->
                                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                                            width="25" height="25"
                                                                                            fill="currentColor"
                                                                                            class="bi bi-truck"
                                                                                            viewBox="0 0 16 16">
                                                                                            <path
                                                                                                d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                                                                        </svg>
                                                                                        <div class="pl-3">
                                                                                            <p class="fw-bold mb-1">Out
                                                                                            </p>
                                                                                            <p class="fw-bold mb-0">Of
                                                                                                Delivery</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div
                                                                                        class="d-lg-flex align-items-center">


                                                                                        <svg xmlns="http://www.w3.org/2000/svg"
                                                                                            width="25" height="25"
                                                                                            fill="currentColor"
                                                                                            class="bi bi-house"
                                                                                            viewBox="0 0 16 16">
                                                                                            <path
                                                                                                d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z" />
                                                                                        </svg>

                                                                                        <div class="pl-3">
                                                                                            <p class="fw-bold mb-1">
                                                                                                Order</p>
                                                                                            <p class="fw-bold mb-0">
                                                                                                Arrived</p>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                        </div>

                                    </div>
                                    <%if(order.status=="orderd" || order.status=="shipped" ||
                                        order.status=="outOfDelivery" ) {%>
                                        <div class="d-flex justify-content-center mt-3">


                                            <button class="btn-outline-danger" onclick="showPopup()">Cancel
                                                Order</button>

                                            <div id="popup" style="display:none;">
                                                <input type="text" id="cancelReason" required>
                                                <button onclick="orderCancel('<%=order._id%>')">submit</button>
                                            </div>


                                        </div>


                                        <%} else if(order.status=="deliverd" ) { %>
                                            <div class="d-flex justify-content-center mt-3">




                                                <button class="btn-outline-danger" onclick="showPopup()">Return
                                                    Order</button>


                                                <div class="ml-5">
                                                    <div id="popup" style="display:none;">
                                                        <br>
                                                        <div class="w-50 h-100">
                                                            <input type="text" id="returnReason"
                                                                placeholder="Plese enter the Reason of Return" required>
                                                            <button class="mt-4" onclick="orderReturn('<%=order._id%>')">
                                                                submit</button>
                                                        </div>

                                                    </div>
                                                </div>


                                            </div>
                                            <%}%>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- ------------------------------- -->



                    <!-- Sidebar-->

            </div>
        </div>
    </main>
    <!-- Footer-->



    

    <!-- Back To Top Button--><a class="btn-scroll-top" href="#top" data-scroll><span
            class="btn-scroll-top-tooltip text-muted fs-sm me-2">Top</span><i class="btn-scroll-top-icon ci-arrow-up">
        </i></a>


    <!-- j query ajax link  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>



    <!-- Vendor scrits: js libraries and plugins-->
    <script src="vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="vendor/simplebar/dist/simplebar.min.js"></script>
    <script src="vendor/tiny-slider/dist/min/tiny-slider.js"></script>
    <script src="vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
    <!-- Main theme script-->
    <script src="/productCss/theme.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

<!-- Mirrored from cartzilla.createx.studio/shop-cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Dec 2022 04:00:53 GMT -->

</html>

<script>
    function showPopup() {
        document.getElementById("popup").style.display = "block";

    }




    function orderCancel(orderId) {

        let reason = document.getElementById('cancelReason').value;
        document.getElementById('popup').style.display = 'none';
        $.ajax({
            url: '/cancelOrder',
            data: {
                orderId: orderId,
                reason: reason,
            },
            method: 'post',
            success: (response) => {
                alert("Your Order Cancled")
            }
        })
    }


    function orderReturn(orderId) {
        let reason = document.getElementById('returnReason').value;
        document.getElementById('popup').style.display = 'none';

        $.ajax({
            url: '/returnOrder',
            data: {
                orderId: orderId,
                reason: reason,
            },
            method: 'post',
            success: (response) => {
                alert("Your Order Returned")
            }
        })
    }

</script>